<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SWARM ‚Ä¢ EIRYA ‚Äî Background C√≥smico</title>
  <style>
    :root{
      /* üëâ Substitua a URL abaixo pelo seu wallpaper 4K gerado */
      --bg-url: url('assets/starmap_background_goldviolet_4k.jpg');
      --accent: 274 100% 60%; /* roxo */
      --accent-2: 50 100% 62%; /* dourado */
      --glow-alpha: .35;
    }

    /* Reset minimale */
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: black; color: #e5e7eb; overflow:hidden; /* o conte√∫do real ficaria em um wrapper acima */
    }

    /* Camadas de fundo */
    .bg{
      position:fixed; inset:0; pointer-events:none; z-index:-10;
    }
    .bg__wallpaper{ /* imagem base */
      position:absolute; inset:0; background-image: var(--bg-url);
      background-size: cover; background-position: center;
      transform: translateZ(0);
      filter: saturate(1.1) contrast(1.05);
    }

    /* Vignette + tonaliza√ß√£o */
    .bg__vignette{
      position:absolute; inset:0; mix-blend-mode: multiply; pointer-events:none;
      background:
        radial-gradient(120vmax 80vmax at 50% 40%, hsl(var(--accent)/.10), transparent 60%),
        radial-gradient(120vmax 80vmax at 80% 20%, hsl(var(--accent-2)/.10), transparent 60%),
        radial-gradient(100vmax 100vmax at 50% 70%, rgba(0,0,0,.0), rgba(0,0,0,.55) 70%);
    }

    /* Pulso cerimonial suave (respira√ß√£o) */
    .bg__pulse{
      position:absolute; inset:0; pointer-events:none; mix-blend-mode: screen;
      background: radial-gradient(60vmax 60vmax at 50% 50%, hsl(var(--accent)/var(--glow-alpha)), transparent 60%);
      animation: pulse 5s ease-in-out infinite;
      opacity:.55;
    }
    @keyframes pulse{ 0%,100%{ opacity:.35 } 50%{ opacity:.65 } }

    /* ru√≠do sutil para textura */
    .bg__grain{
      position:absolute; inset:-200%; pointer-events:none; opacity:.05; mix-blend-mode: overlay; filter: contrast(140%);
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.6"/></svg>');
      animation: grain 7s steps(10) infinite;
      transform: translateZ(0);
    }
    @keyframes grain{ 0%{ transform:translate3d(0,0,0) } 100%{ transform:translate3d(-10%, -10%, 0) } }

    /* Canvas das estrelas/part√≠culas */
    canvas#stars, canvas#particles{ position:absolute; inset:0; display:block; }
    canvas#stars{ opacity:.9; }
    canvas#particles{ opacity:.85; }

    /* Wrapper de conte√∫do (exemplo: seu site por cima do fundo) */
    .content{
      position:relative; z-index:10; pointer-events:auto; height:100%;
      display:grid; place-items:center; text-align:center; padding: clamp(16px, 4vw, 48px);
    }
    .logo{
      font-weight:900; letter-spacing:.35em; text-transform:uppercase; font-size:clamp(18px, 1.2vw + 12px, 22px);
      color: hsl(var(--accent) / .9);
    }
    .title{
      font-size: clamp(28px, 4vw + 12px, 64px); line-height:1.1; margin:.4rem 0 .6rem;
      text-shadow: 0 0 24px hsl(var(--accent)/.4);
    }
    .cta{ display:inline-block; margin-top:1rem; padding:.8rem 1.2rem; border:1px solid hsl(var(--accent)/.35); border-radius:14px; color:#e9d5ff; text-decoration:none; backdrop-filter: blur(6px); background: hsl(0 0% 100% / .02); }
    .cta:hover{ border-color:hsl(var(--accent)/.7); }

    /* Acessibilidade: reduz movimento */
    @media (prefers-reduced-motion: reduce){
      .bg__pulse, .bg__grain{ animation: none; }
    }
  </style>
</head>
<body>
  <!-- CAMADAS DO FUNDO -->
  <div class="bg" aria-hidden="true">
    <div class="bg__wallpaper" id="wallpaper"></div>
    <canvas id="stars"></canvas>
    <canvas id="particles"></canvas>
    <div class="bg__vignette"></div>
    <div class="bg__pulse"></div>
    <div class="bg__grain"></div>
  </div>

  <!-- CONTE√öDO EXEMPLO -->
  <main class="content">
    <div>
      <div class="logo">S.W.A.R.M</div>
      <h1 class="title">EIRYA ‚Äî Heart of the HiveMind</h1>
      <a class="cta" href="#" title="Entrar no Enxame">Entrar na miss√£o</a>
    </div>
  </main>

  <script>
    // ====== CONFIGURA√á√ÉO ======
    const CONFIG = {
      stars: { count: 450, twinkle: true },
      particles: { count: 120, speed: 0.06, radius: 1.2, linkDist: 110 },
      parallax: { strength: 16 },
    };

    // Helper: DPR
    const DPR = Math.min(2, window.devicePixelRatio || 1);

    // ====== ESTRELAS (Canvas) ======
    (function initStars(){
      const canvas = document.getElementById('stars');
      const ctx = canvas.getContext('2d');
      let W, H; let stars = [];

      function resize(){
        W = canvas.width = Math.floor(innerWidth * DPR);
        H = canvas.height = Math.floor(innerHeight * DPR);
        spawn();
        draw();
      }
      function spawn(){
        stars = Array.from({length: CONFIG.stars.count}, ()=>({
          x: Math.random()*W,
          y: Math.random()*H,
          a: Math.random()*0.6 + 0.2,
          s: Math.random()*1.8 + 0.3,
        }));
      }
      function draw(){
        ctx.clearRect(0,0,W,H);
        for(const st of stars){
          ctx.globalAlpha = CONFIG.stars.twinkle ? (st.a * (0.75 + 0.25*Math.sin(performance.now()/800 + st.x))) : st.a;
          ctx.fillStyle = '#fff';
          ctx.fillRect(st.x, st.y, st.s, st.s);
        }
        requestAnimationFrame(draw);
      }
      addEventListener('resize', resize, { passive:true });
      resize();
    })();

    // ====== PART√çCULAS DO ENXAME (Canvas) ======
    (function initParticles(){
      const canvas = document.getElementById('particles');
      const ctx = canvas.getContext('2d');
      let W, H; let nodes = []; let parallax = {x:0, y:0};

      function resize(){
        W = canvas.width = Math.floor(innerWidth * DPR);
        H = canvas.height = Math.floor(innerHeight * DPR);
        nodes = Array.from({length: CONFIG.particles.count}, ()=>({
          x: Math.random()*W,
          y: Math.random()*H,
          vx: (Math.random()-0.5)*CONFIG.particles.speed*DPR,
          vy: (Math.random()-0.5)*CONFIG.particles.speed*DPR,
        }));
      }
      function step(){
        ctx.clearRect(0,0,W,H);
        // atualizar
        for(const n of nodes){
          n.x += n.vx; n.y += n.vy;
          if(n.x < 0 || n.x > W) n.vx *= -1;
          if(n.y < 0 || n.y > H) n.vy *= -1;
        }
        // links
        for(let i=0;i<nodes.length;i++){
          const a = nodes[i];
          for(let j=i+1;j<nodes.length;j++){
            const b = nodes[j];
            const dx = a.x - b.x, dy = a.y - b.y;
            const d2 = dx*dx + dy*dy; const max = CONFIG.particles.linkDist * DPR;
            if(d2 < max*max){
              const alpha = Math.max(0, 0.14 - d2/(max*max)*0.14);
              ctx.strokeStyle = `hsla(${getComputedStyle(document.documentElement).getPropertyValue('--accent')}, ${alpha})`;
              ctx.lineWidth = 1 * DPR; ctx.beginPath();
              ctx.moveTo(a.x + parallax.x, a.y + parallax.y);
              ctx.lineTo(b.x + parallax.x, b.y + parallax.y);
              ctx.stroke();
            }
          }
        }
        // n√≥s
        for(const n of nodes){
          ctx.fillStyle = 'rgba(255,255,255,.85)';
          ctx.beginPath();
          ctx.arc(n.x + parallax.x, n.y + parallax.y, CONFIG.particles.radius * DPR, 0, Math.PI*2);
          ctx.fill();
        }
        requestAnimationFrame(step);
      }
      // Parallax sutil com o mouse
      addEventListener('pointermove', (e)=>{
        const k = CONFIG.parallax.strength;
        const tx = (e.clientX / innerWidth - .5) * k;
        const ty = (e.clientY / innerHeight - .5) * k;
        parallax.x += (tx - parallax.x) * 0.08;
        parallax.y += (ty - parallax.y) * 0.08;
      }, { passive:true });

      addEventListener('resize', resize, { passive:true });
      resize(); step();
    })();

    // Pausar anima√ß√µes quando a aba perde foco (economia)
    document.addEventListener('visibilitychange', () => {
      const pulse = document.querySelector('.bg__pulse');
      if(document.hidden){ pulse.style.animationPlayState = 'paused'; }
      else { pulse.style.animationPlayState = 'running'; }
    });
  </script>
</body>
</html>
